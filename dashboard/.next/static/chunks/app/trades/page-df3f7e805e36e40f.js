(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{8827:(e,t,s)=>{"use strict";s.d(t,{S:()=>l,WsProvider:()=>a});var n=s(7113),c=s(1565);let r=(0,c.createContext)({lastMessage:null,connected:!1});function l(){return(0,c.useContext)(r)}function a(e){let{children:t}=e,[s,l]=(0,c.useState)(null),[a,o]=(0,c.useState)(!1),i=(0,c.useRef)(null),x=(0,c.useRef)(void 0),d=(0,c.useCallback)(()=>{let e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket("".concat(e,"//").concat(window.location.host));i.current=t,t.onopen=()=>o(!0),t.onclose=()=>{o(!1),x.current=setTimeout(d,3e3)},t.onmessage=e=>{try{let t=JSON.parse(e.data);l(t)}catch(e){}}},[]);return(0,c.useEffect)(()=>(d(),()=>{var e;clearTimeout(x.current),null==(e=i.current)||e.close()}),[d]),(0,n.jsx)(r.Provider,{value:{lastMessage:s,connected:a},children:t})}},9692:(e,t,s)=>{Promise.resolve().then(s.bind(s,9915))},9915:(e,t,s)=>{"use strict";s.d(t,{TradesTable:()=>a});var n=s(7113),c=s(1565),r=s(8827);function l(e){let{sig:t}=e;return t?(0,n.jsxs)("a",{href:"https://solscan.io/tx/".concat(t),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-xs",children:[t.slice(0,8),"..."]}):(0,n.jsx)("span",{className:"text-zinc-600",children:"-"})}function a(e){let{compact:t=!1}=e,[s,a]=(0,c.useState)([]),{lastMessage:o}=(0,r.S)(),i=t?10:50;return(0,c.useEffect)(()=>{fetch("/api/trades?limit=".concat(i)).then(e=>e.json()).then(a)},[i]),(0,c.useEffect)(()=>{(null==o?void 0:o.type)==="trade"&&a(e=>[o.data,...e].slice(0,i))},[o,i]),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full text-sm",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"text-left text-xs text-zinc-500 uppercase tracking-wider border-b border-zinc-800",children:[(0,n.jsx)("th",{className:"pb-2 pr-4",children:"Time"}),(0,n.jsx)("th",{className:"pb-2 pr-4",children:"Action"}),(0,n.jsx)("th",{className:"pb-2 pr-4",children:"From"}),(0,n.jsx)("th",{className:"pb-2 pr-4",children:"To"}),(0,n.jsx)("th",{className:"pb-2 pr-4 text-right",children:"Price"}),(0,n.jsx)("th",{className:"pb-2 pr-4 text-right",children:"P&L"}),(0,n.jsx)("th",{className:"pb-2 pr-4",children:"Tx"}),!t&&(0,n.jsx)("th",{className:"pb-2",children:"Status"})]})}),(0,n.jsxs)("tbody",{children:[s.map(e=>(0,n.jsxs)("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[(0,n.jsx)("td",{className:"py-2 pr-4 font-mono text-xs text-zinc-400",children:new Date(e.timestamp).toLocaleString()}),(0,n.jsx)("td",{className:"py-2 pr-4",children:(0,n.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-zinc-800 text-zinc-300",children:e.action})}),(0,n.jsx)("td",{className:"py-2 pr-4 font-mono text-xs",children:null!=e.input_amount?"".concat(e.input_amount.toFixed(4)," ").concat(e.input_token):"-"}),(0,n.jsx)("td",{className:"py-2 pr-4 font-mono text-xs",children:null!=e.output_amount?"".concat(e.output_amount.toFixed(4)," ").concat(e.output_token):"-"}),(0,n.jsx)("td",{className:"py-2 pr-4 text-right font-mono text-xs",children:null!=e.executed_price?"$".concat(e.executed_price.toFixed(4)):"-"}),(0,n.jsx)("td",{className:"py-2 pr-4 text-right font-mono text-xs ".concat(null!=e.pnl?e.pnl>=0?"text-emerald-400":"text-red-400":"text-zinc-600"),children:null!=e.pnl?"".concat(e.pnl>=0?"+":"","$").concat(e.pnl.toFixed(2)):"-"}),(0,n.jsx)("td",{className:"py-2 pr-4",children:(0,n.jsx)(l,{sig:e.tx_signature})}),!t&&(0,n.jsxs)("td",{className:"py-2",children:[e.dry_run&&(0,n.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs bg-yellow-900/50 text-yellow-400",children:"DRY"}),!e.success&&(0,n.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs bg-red-900/50 text-red-400 ml-1",children:"FAILED"})]})]},e.id)),0===s.length&&(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:t?7:8,className:"py-8 text-center text-zinc-600",children:"No trades yet"})})]})]})})}}},e=>{e.O(0,[345,355,358],()=>e(e.s=9692)),_N_E=e.O()}]);