(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{4432:(e,t,s)=>{Promise.resolve().then(s.bind(s,5085))},5085:(e,t,s)=>{"use strict";s.d(t,{FeesTable:()=>a});var l=s(7113),r=s(1565),n=s(8827);function a(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(0),{lastMessage:c}=(0,n.S)();return(0,r.useEffect)(()=>{fetch("/api/fees?limit=50").then(e=>e.json()).then(e=>{t(e.claims),a(e.totalClaimed)})},[]),(0,r.useEffect)(()=>{if((null==c?void 0:c.type)==="fee_claim"){let e=c.data;t(t=>[e,...t].slice(0,50)),a(t=>t+e.total_usd_value)}},[c]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4 bg-zinc-900 border border-zinc-800 rounded-lg p-4 inline-block",children:[(0,l.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Total Fees Claimed"}),(0,l.jsxs)("p",{className:"text-2xl font-mono font-bold text-emerald-400",children:["$",s.toFixed(2)]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-left text-xs text-zinc-500 uppercase tracking-wider border-b border-zinc-800",children:[(0,l.jsx)("th",{className:"pb-2 pr-4",children:"Time"}),(0,l.jsx)("th",{className:"pb-2 pr-4",children:"Pool"}),(0,l.jsx)("th",{className:"pb-2 pr-4 text-right",children:"Token A"}),(0,l.jsx)("th",{className:"pb-2 pr-4 text-right",children:"Token B"}),(0,l.jsx)("th",{className:"pb-2 pr-4 text-right",children:"USD Value"}),(0,l.jsx)("th",{className:"pb-2 pr-4",children:"Tx"}),(0,l.jsx)("th",{className:"pb-2",children:"Status"})]})}),(0,l.jsxs)("tbody",{children:[e.map(e=>(0,l.jsxs)("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[(0,l.jsx)("td",{className:"py-2 pr-4 font-mono text-xs text-zinc-400",children:new Date(e.timestamp).toLocaleString()}),(0,l.jsx)("td",{className:"py-2 pr-4 font-mono text-xs",children:(0,l.jsxs)("a",{href:"https://solscan.io/account/".concat(e.pool_address),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:[e.pool_address.slice(0,8),"..."]})}),(0,l.jsx)("td",{className:"py-2 pr-4 text-right font-mono text-xs",children:e.token_a_amount.toFixed(6)}),(0,l.jsx)("td",{className:"py-2 pr-4 text-right font-mono text-xs",children:e.token_b_amount.toFixed(6)}),(0,l.jsxs)("td",{className:"py-2 pr-4 text-right font-mono text-xs text-emerald-400",children:["$",e.total_usd_value.toFixed(2)]}),(0,l.jsx)("td",{className:"py-2 pr-4",children:e.tx_signature?(0,l.jsxs)("a",{href:"https://solscan.io/tx/".concat(e.tx_signature),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 font-mono text-xs",children:[e.tx_signature.slice(0,8),"..."]}):(0,l.jsx)("span",{className:"text-zinc-600",children:"-"})}),(0,l.jsx)("td",{className:"py-2",children:e.dry_run&&(0,l.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs bg-yellow-900/50 text-yellow-400",children:"DRY"})})]},e.id)),0===e.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:7,className:"py-8 text-center text-zinc-600",children:"No fee claims yet"})})]})]})})]})}},8827:(e,t,s)=>{"use strict";s.d(t,{S:()=>a,WsProvider:()=>c});var l=s(7113),r=s(1565);let n=(0,r.createContext)({lastMessage:null,connected:!1});function a(){return(0,r.useContext)(n)}function c(e){let{children:t}=e,[s,a]=(0,r.useState)(null),[c,o]=(0,r.useState)(!1),i=(0,r.useRef)(null),d=(0,r.useRef)(void 0),x=(0,r.useCallback)(()=>{let e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket("".concat(e,"//").concat(window.location.host));i.current=t,t.onopen=()=>o(!0),t.onclose=()=>{o(!1),d.current=setTimeout(x,3e3)},t.onmessage=e=>{try{let t=JSON.parse(e.data);a(t)}catch(e){}}},[]);return(0,r.useEffect)(()=>(x(),()=>{var e;clearTimeout(d.current),null==(e=i.current)||e.close()}),[x]),(0,l.jsx)(n.Provider,{value:{lastMessage:s,connected:c},children:t})}}},e=>{e.O(0,[345,355,358],()=>e(e.s=4432)),_N_E=e.O()}]);